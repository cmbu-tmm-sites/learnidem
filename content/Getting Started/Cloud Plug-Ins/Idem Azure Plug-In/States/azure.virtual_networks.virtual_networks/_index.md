---
title: "azure.virtual_networks.virtual_networks"
weight: 20
---

{{< tabs "functions" >}}
{{< tab "absent" >}}

```
**Autogenerated function**

Delete Virtual Networks

Args:
    name(str): The identifier for this state.
    resource_group_name(str): The name of the resource group.
    virtual_network_name(str): The name of the virtual network.
    subscription_id(str,optional): Subscription Unique id.

Returns:
    dict

Examples:

    .. code-block:: sls

        resource_is_absent:
          azure.virtual_networks.virtual_networks.absent:
            - name: value
            - resource_group_name: value
            - virtual_network_name: value
```
{{< /tab >}}

{{< tab "describe" >}}

```
**Autogenerated function**

Describe the resource in a way that can be recreated/managed with the corresponding "present" function


List all Virtual Networks under the same subscription


Returns:
    Dict[str, Any]

Examples:

    .. code-block:: bash

        $ idem describe azure.virtual_networks.virtual_networks
```
{{< /tab >}}

{{< tab "present" >}}

```
**Autogenerated function**

Create or update Virtual Networks

Args:
    name(str): The identifier for this state.
    resource_group_name(str): The name of the resource group.
    virtual_network_name(str): The name of the virtual network.
    address_space(list): An array of IP address ranges that can be used by subnets of the virtual network.
    location(str): Resource location. This field can not be updated.
    resource_id(str, optional): Virtual Network resource id on Azure
    bgp_communities(dict, optional): Bgp Communities sent over ExpressRoute with each route corresponding to a prefix in this VNET.
    flow_timeout_in_minutes(int, optional): The FlowTimeout value (in minutes) for the Virtual Network
    subnets(List, optional): List of Subnet in a virtual network resource.Each Subnet will have fields
      name(str, required), address_space(str, required) , security_group_id(str, optional) and service_endpoints(list, optional)
    subscription_id(str,optional): Subscription Unique id.
    tags(dict, optional): Resource tags.

Returns:
    dict

Examples:

    .. code-block:: sls

        my-vnet:
          azure.virtual_networks.virtual_networks.present:
            - name: my-vnet
            - resource_group_name: my-rg-1
            - virtual_network_name: my-vnet-1
            - location: westus
            - flow_timeout_in_minutes: 15
            - tags:
                my-tag-key: my-tag-value
            - subnets:
                - name: subnet_name
                  address_prefix: 10.0.0.0/26
                  security_group_id: /subscriptions/subscription_id/resourceGroups/resource_group_name/providers/Microsoft.Network/networkSecurityGroups/network-security-group-name
                  service_endpoints:
                      - Microsoft.Storage
            - address_space:
                - 10.0.0.0/26
```
{{< /tab >}}

{{< /tabs >}}



---
title: "aws.budgets.budget_action"
weight: 20
---

{{< tabs "functions" >}}
{{< tab "absent" >}}

```
**Autogenerated function**

Deletes a Budget Action.

Args:
    name(Text): An Idem name of the resource.
    budget_name(Text): Budget Name
    resource_id(Text, Optional): Budget Action ID to identify the resource. Idem automatically considers this resource being absent if this field is not specified.

Returns:
    Dict[str, Any]

Examples:

    .. code-block:: sls

        resource_is_absent:
          aws.budgets.budget_action.absent:
            - name: value
            - budget_name: value
            - resource_id: value
```
{{< /tab >}}

{{< tab "describe" >}}

```
**Autogenerated function**

Describe the resource in a way that can be recreated/managed with the corresponding "present" function


Returns a list of aws budget actions.


Returns:
    Dict[str, Any]

Examples:

    .. code-block:: bash

        $ idem describe aws.budgets.budget_action
```
{{< /tab >}}

{{< tab "present" >}}

```
**Autogenerated function**

Creates a new Budget Action with the requested name and rules.

Args:
    name(Text): The unique name of the Budget Action.
    budget_name(Text): A string that represents the budget name. The ":" and "" characters aren't allowed.
    notification_type(Text): The type of a notification. It must be ACTUAL or FORECASTED.
    action_type(Text): The type of action. This defines the type of tasks that can be carried out by this action.
                This field also determines the format for definition.
    action_threshold(Dict[str, Any]): The trigger threshold of the action.
        * ActionThresholdValue (float):  The threshold of a notification.
        * ActionThresholdType (str):  The type of threshold for a notification.
    definition(Dict[str, Any]): Specifies all of the type-specific parameters.
        * IamActionDefinition (Dict[str, Any], optional): The Identity and Access Management (IAM) action definition details.
            * PolicyArn (str): The Amazon Resource Name (ARN) of the policy to be attached.
            * Roles (List[str], optional): A list of roles to be attached. There must be at least one role.
            * Groups (List[str], optional): A list of groups to be attached. There must be at least one group.
            * Users (List[str], optional): A list of users to be attached. There must be at least one user.
        * ScpActionDefinition (Dict[str, Any], optional): The service control policies (SCPs) action definition details.
            * PolicyId (str): The policy ID attached.
            * TargetIds (List[str]): A list of target IDs.
        * SsmActionDefinition (Dict[str, Any], optional): The Amazon Web Services Systems Manager (SSM) action definition details.
            * ActionSubType (str): The action subType.
            * Region (str): The Region to run the SSM document.
            * InstanceIds (List[str]): The EC2 and RDS instance IDs.
    execution_role_arn(Text): The role passed for action execution and reversion. Roles and actions must be in the same account.
    approval_model (Text): This specifies if the action needs manual or automatic approval.
    subscribers(List[Dict[str, Any]]):  A list of subscribers.
        * SubscriptionType (str): The type of notification that Amazon Web Services sends to a subscriber.
        * Address (str): The address that Amazon Web Services sends budget notifications to, either an SNS topic or an
            email. When you create a subscriber, the value of Address can't contain line breaks.
    resource_id(Text, Optional): Action ID to identify the resource.

Request Syntax:
    [action-resource-id]:
      aws.budgets.budget_action.present:
      - resource_id: 'string'
      - budget_name: 'string'
      - notification_type: 'string'
      - action_type: 'string'
      - action_threshold:
           ActionThresholdType: 'string'
           ActionThresholdValue: int
      - definition:
          IamActionDefinition:
            PolicyArn: 'string'
            Users:
            - 'string'
      - execution_role_arn: 'string'
      - approval_model: 'string'
      - status: 'string'
      - subscribers:
        - Address: 'string'
          SubscriptionType: 'string'


Returns:
    Dict[str, str]

Examples:

    .. code-block:: sls

        12345a12-126d-1234-1ab2-1f4dca2a1234:
          aws.budgets.budget_action.present:
          - name: 12345a12-126d-1234-1ab2-1f4dca2a1234
          - resource_id: 12345a12-126d-1234-1ab2-1f4dca2a1234
          - budget_name: test_budget
          - notification_type: ACTUAL
          - action_type: APPLY_IAM_POLICY
          - action_threshold:
              ActionThresholdType: PERCENTAGE
              ActionThresholdValue: 123.0
          - definition:
              IamActionDefinition:
                PolicyArn: arn:aws:iam::123456789101:policy/budget_policy
                Users:
                - plokare
          - execution_role_arn: arn:aws:iam::123456789101:role/budget_role
          - approval_model: AUTOMATIC
          - status: STANDBY
          - subscribers:
            - Address: abc@test.com
              SubscriptionType: EMAIL
```
{{< /tab >}}

{{< /tabs >}}


Full plugin documentation is available on the Idem documentation site - [aws.budgets.budget_action](https://docs.idemproject.io/idem-aws/en/latest/ref/states/budgets/budget_action.html).

---
title: "aws.iam.service_linked_role"
weight: 20
---

{{< tabs "functions" >}}
{{< tab "absent" >}}

```
**Autogenerated function**

Submits a service-linked role deletion request and returns a DeletionTaskId , which can be used to check the status of the deletion.

Args:
    name(Text): AWS IAM service linked Role Name.
    resource_id(Text, Optional): AWS IAM service linked Role Name. If not specified, Idem will use "name"
     parameter to identify the IAM service linked role on AWS.

Returns:
    Dict[str, Any]

Examples:
    .. code-block:: sls
        resource_is_absent:
          aws.iam.service_linked_role.absent:
            - resource_id: AWSServiceRoleForAutoScaling
```
{{< /tab >}}

{{< tab "describe" >}}

```
**Autogenerated function**

Describe the resource in a way that can be recreated/managed with the corresponding "present" function


Lists the IAM service linked roles. If there are none, the operation returns an empty list.

Returns:
    Dict[str, Any]

Examples:

    .. code-block:: bash

        $ idem describe aws.iam.service_linked_role
```
{{< /tab >}}

{{< tab "present" >}}

```
**Autogenerated function**

Creates an IAM role that is linked to a specific Amazon Web Services service. The service controls the attached policies
and when the role can be deleted. This helps ensure that the service is not broken by an unexpectedly changed or deleted
role, which could put your Amazon Web Services resources into an unknown state.

Note:
    1. Updates to role name, custom suffix and description are not allowed by AWS. Only tags can be updated.
    2. All service linked roles does not support custom suffix

Args:
    name(Text): The name of the idem resource.
    service_name(Text): The service principal for the Amazon Web Services service to which this role is attached.
                        for example: elasticbeanstalk.amazonaws.com
    custom_suffix(Text, Optional): A string that you provide, which is combined with the service-provided prefix to
                                    form the complete service linked role name
    resource_id(Text, Optional): AWS IAM Role Name.
    description(Text, Optional): A description of the service linked role. Defaults to None.
    tags(Dict or List, optional): Dict in the format of {tag-key: tag-value} or List of tags in the format of
        [{"Key": tag-key, "Value": tag-value}] to associate with the new service linked role.
        Each tag consists of a key name and an associated value. Defaults to None.
        * (Key): The key name that can be used to look up or retrieve the associated value. For example,
            Department or Cost Center are common choices.
        * (Value): The value associated with this tag. For example, tags with a key name of Department could have
            values such as Human Resources, Accounting, and Support. Tags with a key name of Cost Center
            might have values that consist of the number associated with the different cost centers in your
            company. Typically, many resources have tags with the same key name but with different values.
            Amazon Web Services always interprets the tag Value as a single string. If you need to store an
            array, you can store comma-separated values in the string. However, you must interpret the value
            in your code.
Request Syntax:
    [iam-service-linked-role-name]:
      aws.iam.service_linked_role.present:
      - name: 'string'
      - service_name: 'string'
      - custom_suffix: 'string'
      - resource_id: 'string'
      - description: 'string'
      - tags:
        - Key: 'string'
          Value: 'string'

Returns:
    Dict[str, Any]

Examples:
    .. code-block:: sls
        AWSServiceRoleForAutoScaling:
          aws.iam.service_linked_role.present:
            - name: AWSServiceRoleForAutoScaling
            - resource_id: AWSServiceRoleForAutoScaling
            - service_name: autoscaling.amazonaws.com
            - custom_suffix: test_suffix
            - description: This is custom description
            - tags:
                - Key: firstkey
                  Value: firstvalue
                - Key: 2ndkey
                  Value: 2ndvalue
```
{{< /tab >}}

{{< /tabs >}}


Full plugin documentation is available on the Idem documentation site - [aws.iam.service_linked_role](https://docs.idemproject.io/idem-aws/en/latest/ref/states/iam/service_linked_role.html).

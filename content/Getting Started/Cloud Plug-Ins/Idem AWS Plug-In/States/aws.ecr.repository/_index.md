---
title: "aws.ecr.repository"
weight: 20
---

{{< tabs "functions" >}}
{{< tab "absent" >}}

```
**Autogenerated function**

Deletes a repository. If the repository contains images, you must either delete all images in the repository or
use the force option to delete the repository.

Args:
    name(string): An Idem name of the resource.
    resource_id(string, optional): The name of the ECR repository in Amazon Web Services.
    registry_id(string, optional): The Amazon Web Services account ID associated with the registry that contains the repository to
        delete. If you do not specify a registry, the default registry is assumed. Defaults to None.
    force(bool, optional): If a repository contains images, forces the deletion. Defaults to None.

Request syntax:
    [idem_test_aws_ecr_repository]:
      aws.ecr.repository.absent:
        - name: 'string'
        - resource_id: 'string'
        - registry_id: 'string'
        - force: True|False

Returns:
    Dict[str, Any]

Examples:

    .. code-block:: sls

        idem_test_aws_ecr_repository:
          aws.ecr.repository.absent:
            - name: value
            - resource_id: value
            - registry_id: value
            - force: True
```
{{< /tab >}}

{{< tab "describe" >}}

```
**Autogenerated function**

Describe the resource in a way that can be recreated/managed with the corresponding "present" function

Describes image repositories in a registry.

Returns:
    Dict[str, Dict[str, Any]]

Examples:

    .. code-block:: bash

        $ idem describe aws.ecr.repository
```
{{< /tab >}}

{{< tab "present" >}}

```
**Autogenerated function**

Creates a repository. Repository properties cannot be updated after creation, only tags can be updated.
For more information, see Amazon ECR repositories in the Amazon Elastic Container Registry User Guide.

Args:
    name(string): An Idem name of the resource.
    resource_id(string, optional): The name of the ECR repository in Amazon Web Services.
    registry_id(string, optional): The Amazon Web Services account ID associated with the registry to create the repository. If you
        do not specify a registry, the default registry is assumed. Defaults to None.
    image_tag_mutability(string, optional): The tag mutability setting for the repository. If this parameter is omitted, the default setting
        of MUTABLE will be used which will allow image tags to be overwritten. If IMMUTABLE is
        specified, all image tags within the repository will be immutable which will prevent them from
        being overwritten. Defaults to None.
    image_scanning_configuration(Dict, optional): The image scanning configuration for the repository. This determines whether images are scanned
        for known vulnerabilities after being pushed to the repository. Defaults to None.
    encryption_configuration(Dict, optional): The encryption configuration for the repository. This determines how the contents of your
        repository are encrypted at rest. Defaults to None.
    tags(Dict or List, optional): Dict in the format of {tag-key: tag-value} or List of tags in the format of
        [{"Key": tag-key, "Value": tag-value}] to associate with the repository.
        Each tag consists of a key name and an associated value. Defaults to None.
        * Key (str): The key of the tag. Constraints: Tag keys are case-sensitive and accept a maximum of 127 Unicode
            characters. May not begin with aws:.
        * Value(str, optional): The value of the tag. Constraints: Tag values are case-sensitive and accept a maximum of 256
            Unicode characters.

Request Syntax:
    [idem_test_aws_ecr_repository]:
      aws.ecr.repository.present:
        - name: 'string'
        - registry_id: 'string'
        - image_tag_mutability: 'string'
        - image_scanning_configuration:
            scanOnPush: True|False
        - encryption_configuration:
            encryptionType: 'string'
        - tags:
          - Key: 'string'
            Value: 'string'

Returns:
    Dict[str, Any]

Examples:

    .. code-block:: sls

        idem_test_aws_ecr_repository:
          aws.ecr.repository.present:
            - name: value
            - registry_id: value
            - image_tag_mutability: value
            - image_scanning_configuration:
                scanOnPush: False
            - encryption_configuration:
                encryptionType: value
            - tags:
              - Key: value
                Value: value
```
{{< /tab >}}

{{< tab "search" >}}

```
Use an un-managed ECR repository as a data-source.

Args:
    name(string): An Idem name of the resource.
    resource_id(string): The name of the ECR repository in Amazon Web Services.
    registry_id(string, optional): The Amazon Web Services account ID associated with the registry that contains the repository to
        search. If you do not specify a registry, the default registry is assumed. Defaults to None.

Request syntax:
    [idem_test_aws_ecr_repository]:
      aws.ecr.repository.search:
        - resource_id: 'string'
        - registry_id: 'string'

Returns:
    Dict[str, Any]

Examples:

    .. code-block:: sls

        idem_test_aws_ecr_repository:
          aws.ecr.repository.search:
            - resource_id: value
            - registry_id: value
```
{{< /tab >}}

{{< /tabs >}}


Full plugin documentation is available on the Idem documentation site - [aws.ecr.repository](https://docs.idemproject.io/idem-aws/en/latest/ref/states/ecr/repository.html).

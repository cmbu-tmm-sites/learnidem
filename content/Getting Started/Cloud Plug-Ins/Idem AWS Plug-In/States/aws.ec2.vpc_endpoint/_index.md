---
title: "aws.ec2.vpc_endpoint"
weight: 20
---

{{< tabs "functions" >}}
{{< tab "absent" >}}

```
**Autogenerated function**

Deletes the specified VPC endpoint. You can delete any of the following types of VPC endpoints.
Gateway endpoint,   Gateway Load Balancer endpoint,   Interface endpoint   The following rules apply when you
delete a VPC endpoint:   When you delete a gateway endpoint, we delete the endpoint routes in the route tables
that are associated with the endpoint.   When you delete a Gateway Load Balancer endpoint, we delete the
endpoint network interfaces.  You can only delete Gateway Load Balancer endpoints when the routes that are
associated with the endpoint are deleted.   When you delete an interface endpoint, we delete the endpoint
network interfaces.

Args:
    name(Text): An idem name of the resource
    resource_id(Text, optional): An AWS vpc_endpoint resource_id to identify the resource.
    timeout(Dict, optional): Timeout configuration for deleting the endpoint.
        * delete (Dict) -- Timeout configuration for deleting the endpoint
            * delay -- The amount of time in seconds to wait between attempts.
            * max_attempts -- Customized timeout configuration containing delay and max attempts.

Returns:
    Dict[str, Any]

Examples:

    .. code-block:: sls

        vpce-123123123:
          aws.ec2.vpc_endpoint.absent:
            - name: value
            - resource_id: vpce-123123123
```
{{< /tab >}}

{{< tab "describe" >}}

```
**Autogenerated function**

Describe the resource in a way that can be recreated/managed with the corresponding "present" function


Describes one or more of your VPC endpoints.


Returns:
    Dict[str, Any]

Examples:

    .. code-block:: bash

        $ idem describe aws.ec2.vpc_endpoint
```
{{< /tab >}}

{{< tab "present" >}}

```
**Autogenerated function**

Creates a VPC endpoint for a specified service. An endpoint enables you to create a private connection between
your VPC and the service. The service may be provided by Amazon Web Services, an Amazon Web Services Marketplace
Partner, or another Amazon Web Services account. For more information, see VPC Endpoints in the Amazon Virtual
Private Cloud User Guide. A gateway endpoint serves as a target for a route in your route table for traffic
destined for the Amazon Web Service. You can specify an endpoint policy to attach to the endpoint, which will
control access to the service from your VPC. You can also specify the VPC route tables that use the endpoint. An
interface endpoint is a network interface in your subnet that serves as an endpoint for communicating with the
specified service. You can specify the subnets in which to create an endpoint, and the security groups to
associate with the endpoint network interface. A GatewayLoadBalancer endpoint is a network interface in your
subnet that serves an endpoint for communicating with a Gateway Load Balancer that you've configured as a VPC
endpoint service. Use DescribeVpcEndpointServices to get a list of supported services.

Args:
    name(Text): An Idem name of the resource.
    vpc_id(Text): AWS VPC ID.
    resource_id(Text, optional): AWS VPC Endpoint id.
    service_name(Text): The service name. To get a list of available services, use the DescribeVpcEndpointServices
        request, or get the name from the service provider.
    vpc_endpoint_type(Text, optional): The type of endpoint. Default: Gateway. Defaults to Gateway.
    policy_document(Text, optional): (Interface and gateway endpoints) A policy to attach to the endpoint that controls access to the
        service. The policy must be in valid JSON format. If this parameter is not specified, we attach
        a default policy that allows full access to the service. Defaults to None.
    route_table_ids(List, optional): (Gateway endpoint) One or more route table IDs. Defaults to None.
    subnet_ids(List, optional): (Interface and Gateway Load Balancer endpoints) The ID of one or more subnets in which to create
        an endpoint network interface. For a Gateway Load Balancer endpoint, you can specify one subnet
        only. Defaults to None.
    security_group_ids(List, optional): (Interface endpoint) The ID of one or more security groups to associate with the endpoint
        network interface. Defaults to None.
    private_dns_enabled(bool, optional): (Interface endpoint) Indicates whether to associate a private hosted zone with the specified
        VPC. The private hosted zone contains a record set for the default public DNS name for the
        service for the Region (for example, kinesis.us-east-1.amazonaws.com), which resolves to the
        private IP addresses of the endpoint network interfaces in the VPC. This enables you to make
        requests to the default public DNS name for the service instead of the public DNS names that are
        automatically generated by the VPC endpoint service. To use a private hosted zone, you must set
        the following VPC attributes to true: enableDnsHostnames and enableDnsSupport. Use
        ModifyVpcAttribute to set the VPC attributes. Default: true. Defaults to None.
    client_token(Text, optional): Unique, case-sensitive identifier that you provide to ensure the idempotency of the request. Constraint: Maximum 64 ASCII characters. This field is autopopulated if not provided.
    tags(Dict or List, optional): Dict in the format of {tag-key: tag-value} or List of tags in the format of
        [{"Key": tag-key, "Value": tag-value}] to associate with the VPC endpoint.
        Each tag consists of a key name and an associated value. Defaults to None.
        * Key (str, optional): The key of the tag. Constraints: Tag keys are case-sensitive and accept a maximum of 127 Unicode
            characters. May not begin with aws:.
        * Value(str, optional): The value of the tag. Constraints: Tag values are case-sensitive and accept a maximum of 256
            Unicode characters.
    timeout(Dict, optional): Timeout configuration for create/update/deletion of AWS IAM Policy.
        * create (Dict): Timeout configuration for creating AWS IAM Policy
            * delay (int, Optional): The amount of time in seconds to wait between attempts.
            * max_attempts (int, Optional): Customized timeout configuration containing delay and max attempts.
        * update(Dict, optional): Timeout configuration for updating AWS IAM Policy
            * delay (int, Optional): The amount of time in seconds to wait between attempts.
            * max_attempts: (int, Optional) Customized timeout configuration containing delay and max attempts.

Request Syntax:
    [vpc_endpoint-id]:
        aws.ec2.vpc_endpoint.present:
        - vpc_id: 'string'
        - service_name: 'string'
        - resource_id: 'string'
        - vpc_endpoint_type: 'string'
        - policy_document: 'string'
        - route_table_ids:
          - 'string'
        - subnet_ids:
          - 'string'
        - security_group_ids:
          - 'string'
        - private_dns_enabled: 'Boolean'
        - client_token: 'string'
        - tag_specifications:
        - Key: 'string'
            Value: 'string'

Returns:
    Dict[str, Any]

Examples:

    .. code-block:: sls

        vpce-1231231234:
            aws.ec2.vpc_endpoint.present:
            - vpc_id: vpc-123123123
            - service_name: com.amazonaws.us-west-2.s3
            - resource_id: vpce-1231231234
            - vpc_endpoint_type: Interface
            - private_dns_enabled: False
```
{{< /tab >}}

{{< /tabs >}}


Full plugin documentation is available on the Idem documentation site - [aws.ec2.vpc_endpoint](https://docs.idemproject.io/idem-aws/en/latest/ref/states/ec2/vpc_endpoint.html).
